@page "/Artistas"
@inject ArtistaAPI artistaAPI

<MudText Class="mb-4" Typo="Typo.h4">Artistas cadastrados</MudText>

@if (artistas is not null)
{
    <MudGrid>
    @foreach (var artista in artistas.OrderByDescending(x=>x.Id))
    {
        <MudItem xs="3">
            <CardArtista Artista=artista/>        
        </MudItem>
    }
    </MudGrid>
} else
{
    <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
}

@code {
    private ICollection<ArtistaResponse>? artistas;
    protected override async Task OnInitializedAsync()
    {
        artistas = await artistaAPI.GetArtistasAsync();
    }
}
